# 修改记录

## 20251024 修改记录
- 批量添加任务后，不要刷新整个页面，只刷新添加的任务列表，这样用户体验会好些。
- 添加/编辑任务时，上传图片后，下方无法预览图片整体，图片没有缩放到一个可以看全图的状态。
- 学科设置，已添加到学科可以拖拽顺序，对应添加任务，学科分类下拉菜单的显示顺序。
- 学科设置中，添加新学科，未能成功添加；学科设置页面需要可以滚动调节，高度可以自适应，以适应不同浏览器、手机页面的高度。
- “我的”页面设置中增加“学科设置”按钮，点击后显示现有的学科及学科颜色，可以修改学科名字、学科颜色，删除学科、可以添加新的学科；“作业打卡”页面，添加任务中学科分类与设置中的学科是关联一致的，数据需要可保存到数据库。
- 添加任务点击后，下方有2个标签页，分别是“单个添加”、“批量添加”，单个添加显示目前的界面内容，“批量添加”包含“作业文本”，下方有个文本框，用户输入老师不知的当天作业，含多个内容项，文本框下方有个“智能识别按钮”，点击后，下方有个识别结果区域，显示自动识别的多个任务，每个任务可以点击进一步编辑，最下方有个“添加选中任务”按钮，点击后正式添加到“作业打卡”页面。
- 在“我的”页面，设置中增加按钮“任务设置”，当复选框选择任务自动排序后：作业打卡页面中任务清单中，学科下方的任务中，已完成任务排到下方；当该学科任务都完成时，将未完任务的学科排到上方。
- 修复删除已完成任务时金币扣除问题。
- 请实现一个日期选择交互功能，具体要求如下：当用户在日期选择界面中点击不同日期时，下方显示的任务标题应实时更新为对应日期的任务标题。例如，若当前显示"今日任务"且系统日期为10月24日，当用户点击10月25日日期时，下方任务标题区域需立即更新为"10月25日任务"；当用户点击10月23日日期时，下方任务标题区域需相应更新为"10月23日任务"。确保日期选择与任务标题更新之间的交互响应及时、准确，且视觉反馈清晰明确。

## 20251023 修改记录

- 删除任务时，总分数中也对应删除获得的任务积分。
- 添加/编辑任务中，任务描述下方增加“任务图片”，用户可以上传多张图片，点击保存后，任务页面预计完成时间左侧多出一个图片图标，点击图标可以左右翻页查看上传的图片，适合老师布置了带图片的作业时使用，上传的图片保存到服务器backend\uploads文件夹下用户目录中，上传的图片以时间戳+图片名命名（年月日时分秒-图片名），多张图片同时上传时避免命名冲突。
- 登录页面下方，不要显示底部导航栏。
- 用户可以在"我的"页面中设置标题下方点击"番茄钟设置"按钮，会弹出一个模态窗口，在其中可以勾选"固定番茄钟页面"选项。当勾选此选项后，番茄钟将保持全屏显示，不会缩小为悬浮球，直到计时完成或用户手动关闭窗口，，适合孩子专注做作业。
- 我的页面新增设置标题 标题下方增加个 番茄钟设 勾选 固定番茄钟页面 之后，点击任务番茄钟页面开始按钮之后不缩小为悬浮球，而是固定番茄钟页面 让孩子专注做作业直到计时完成 用户点击关闭窗口。
- 番茄钟悬浮球动态效果，不要超出悬浮球的范围，动态效果颜色修改为浅蓝色，悬浮球修改颜色，与动态效果匹配，使得整个动画效果更好看。
- 作业打卡 页面，任务列表中，任务时间和任务积分，与任务描述放到同一行，并增加显示任务实际消耗时间（显示效果 图标 实际时间），任务实际完成时间为番茄钟点击结束时的实际时间。
- 番茄钟页面，增加一个正计时选项，选择后点击开始，开始正计时，点击结束按钮，停止正计时，任务栏中显示任务实际消耗时间。


## 20251022 修改记录

- 操作记录页面，检查美化调整、关闭按钮功能、居中显示、滚动及自适应能力是否都已实现。
- “我的”页面，点击操作记录，可以查看用户所有的操作记录，记录用户最近1个月的操作记录，超过1个月的操作记录删除。操作记录页面右上角需要有关闭按钮，每页显示10条记录，可以自动翻页，页面大小可以滚动，可以跟随浏览器大小自动调节。
- 我的荣誉墙中，荣誉名称需要与frontend\static\images\honors中图片名称一致，使其与这20个图标对应，并更新对应的荣誉获得逻辑，确保达到条件好，可以正确取得荣誉徽章，并给出庆祝效果；我的荣誉墙页面右上角的关闭按钮，还是看不清，取消我的荣誉墙 上面的渐变色。
- 点击我的荣誉墙 外侧区域，自动关闭页面；我的荣誉墙页面需要可以滚动调节，高度可以自适应，以适应不同浏览器、手机页面的高度。
- 我的页面中，我的荣誉，设计为点击我的荣誉，弹出一个页面展示荣誉墙，需设计荣誉达成的逻辑，判断什么条件获取哪个荣誉，用户获得的荣誉需要在后台中设计，每个荣誉需要展示漂亮的图标，并且可以展示每个荣誉获得的次数，每次获得荣誉后，弹出庆祝的效果告知用户。
- 创建心愿按钮与下方心愿距离太近，调整下间距；参考图片，可用金币在最左侧，领取记录在最右侧，调整样式让页面更漂亮些
- 编辑心愿图标默认隐藏，点击心愿后，才显示出来
- 内置心愿也是可以编辑的，请修改；心愿增加“兑换数量”属性，可以设置数字，比如所需金币 1，兑换数量 10，单位 分钟，代表 兑换 看电视心愿，1金币可以兑换5分钟。

## 20251021 修改记录

- 编辑个人信息，更换了头像之后，点击刷新，又恢复了默认，感觉是后台没有保存个人信息设置，而且还要实现 头像  用户需要可以自定义上传。


- 添加\编辑任务，重复设置需包含：无、每天、每个工作日、每周（周一~、~周日可选）；需要可以设置，开始日期和结束日期，默认开始日期为当天，请修改UI及后台逻辑，修改后端py文件，不要随意修改返回类型，会导致其他相关的错误。
- 需整体美化添加\编辑任务窗口，使其排版、布局更漂亮美观、符合学生审美
- 重点关注创建的重复任务，“每天、每个工作日、每周（周一~、~周日可选）”这些任务对应的创建、修改需要符合实际使用要求。

## 20251020 修改记录 ✅

- 每个页面顶部增加一个有趣的标题和设计元素（AI 生成），如"作业打卡"页面最上方显示用户头像和用户昵称；“小心愿”页面上方显示“「用户昵称」的心愿收集”；“我的”页面上方显示用户昵称、用户 ID 及用户头像。
- 我的页面可以退出当前登录，点击退出后，会跳转到登录页面。
- 我的页面可以编辑当前用户的个人信息，包括昵称、头像、修改密码、手机号等，用户可以选择头像（给出 10 个可选头像）或上传头像。
- “作业打卡”页面取消“返回今天”按钮，日期选择与周视图过于紧凑，需根据界面大小自动调整，支持小屏幕、电脑、平板等不同设备显示

- 默认头像使用frontend\static\images\avatars\default.svg，目前头像未能正常显示；“作业打卡”页面“2025年10月第42周”居中显示，右侧显示一个小圆圈包裹浅绿色背景的“本周”按钮，点击后返回到今日；“周一 20”都选中状态，而非只显示选中了20；今日任务放到“全部学科”的上方，其同一行右侧有全部、已完成、待完成 可供筛选；任务菜单栏点击显示不对，需要显示 编辑、番茄钟、删除按钮，按钮左侧需要有对应图标。

- 日时长、任务数、日金币、完成率、总金币 上方需要有一个图标；日时长需要统计今日任务完成的总时间；任务数统计今日总任务个数、日金币统计今日获得的金币个数，完成率计算今日任务完成的百分比，总金币统计当前账号总的金币个数。 “作业打卡” 、“小心愿”、“我的”页面的样式不够现代化、美观话，请重新美化设计，让儿童更喜欢。

- “作业打卡” 、“小心愿”、“我的”页面分别有不同的背景颜色，使其看起来更漂亮。
- 用户还可以在“我的”页面自定义3个页面的背景颜色或背景图片，背景图片需支持上传本地图片，给上一次遮罩效果。（未来实现）
- 总金币图示未能正常显示；“小心愿”、“我的”页面 不显示 日时长、任务数、日金币、完成率、总金币，仅在“作业打卡”页面显示。

- 总金币上方图标修改为金钱相关图标。
- 底部导航栏占据高度过高，请将其调整为合适的高度，与常见手机App底部导航栏高度一致。
- 今日任务与上方的星期 距离过近，需增加一些间距。
- 右下角添加任务图标，和任务菜单图标重叠，请把图标往左侧调整位置，与任务菜单图标错开。

- 今日任务 右侧 全部、已完成、待完成按钮点击没有反应。
- “作业打卡”页面“2025年10月第42周” 下方的周一、周日 距离页面编辑太近了，影响美观，请调整。


## 番茄钟功能完善

- “作业打卡” 、“小心愿”、“我的”、“登录”页面不要显示悬浮的番茄钟。
- 当点击任务的番茄钟按钮时，弹出番茄钟页面，点击开始后，番茄钟缩小为悬浮球，显示倒计时。
- 番茄钟页面右上角需要有个关闭按钮。
- 悬浮球页面需显示浅蓝色透明背景，像装水容器一样随时间慢慢变满，需要动的效果。
- 当番茄钟正在倒计时时，点击悬浮番茄钟，番茄钟页面弹出，点击番茄钟页面旁边任意区域时，番茄钟页面缩小为悬浮球状态。
- 悬浮番茄钟显示位置：位于底部导航栏正中间位置上方。
- 番茄钟需要可以自定义设置时间，默认20分钟；从任务中点击番茄钟，番茄钟倒计时时间与该任务时间相同。

